"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveMxRecords = void 0;
const dns_1 = require("dns");
async function resolveMxRecords(domain) {
    const records = await dns_1.promises.resolveMx(domain);
    records.sort((a, b) => {
        if (a.priority < b.priority) {
            return -1;
        }
        if (a.priority > b.priority) {
            return 1;
        }
        return 0;
    });
    return records.map((record) => record.exchange);
}
exports.resolveMxRecords = resolveMxRecords;
